@namespace DiagramCollaboration

@using Microsoft.Extensions.Logging
@using Syncfusion.Blazor.Diagram
@using Syncfusion.Blazor.Diagram.SymbolPalette
@using System.Collections.ObjectModel
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.SplitButtons
@using Syncfusion.Blazor.Inputs
@using Microsoft.AspNetCore.SignalR.Client
@using System.Text.Json
@inject IJSRuntime JS
@inject NavigationManager NavigationManager
@*Hidden:Lines*@
@implements IDisposable
@*End:Hidden*@


    @*Hidden:Lines*@
    <style>
        .badge-layer {
            position: absolute;
            inset: 0; 
            pointer-events: none; 
        }
        .peer-badge {
            position: absolute;
            transform: translate(4px, -8px);
            background: #3b82f6;
            color: #fff;
            border-radius: 10px;
            padding: 2px 6px;
            font-size: 11px;
            line-height: 1;
            white-space: nowrap;
            pointer-events: auto; 
        }
        .peer-highlight {
            position: absolute;
            transform: translate(-50%, -50%); 
            border: 2px solid #3b82f6;
            border-radius: 4px; 
            box-shadow: 0 0 0 2px rgba(59,130,246,0.2); 
            pointer-events: none;
        }
        @@font-face {
            font-family: 'All icons Metrop';
            src: url(data:application/x-font-ttf;charset=utf-8;base64,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MQAuADAAQQBsAGwAIABpAGMAbwBuAHMAIABNAGUAdAByAG8AcABGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIAB1AHMAaQBuAGcAIABTAHkAbgBjAGYAdQBzAGkAbwBuACAATQBlAHQAcgBvACAAUwB0AHUAZABpAG8AdwB3AHcALgBzAHkAbgBjAGYAdQBzAGkAbwBuAC4AYwBvAG0AAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkACVVuZGVybGluZQtJbnNlcnRJbWFnZQRMb2NrBlNlYXJjaAxCcmluZ0ZvcndhcmQNQ29ubmVjdG9yTW9kZQRCb2xkCFNlbmRiYWNrB1pvb21PdXQEUmVkbwdVbmxvY2sxCEFpbGduVG9wBENvcHkGU3F1YXJlBVByaW50EkRpc3RyaWJ1dGVWZXJ0aWNhbBFBbGlnbkhvcml6b250YWxseQpCcmluZ0Zyb250BkRlbGV0ZQZVbmxvY2sHVW5ncm91cAlTZWxlY3Rpb24HRWxsaXBzZRRUZXh0SG9yaXpvbnRhbENlbnRlcgxDb2xvclBpY2tlcnMIRXhwYW5kZXIIVGV4dExlZnQJRG93bkFycm93Blpvb21Jbg9TaGFwZV9SZWN0YW5nbGUMU2VuZEJhY2t3YXJkC0NvbG9yRm9ybWF0CFRyaWFuZ2xlAlVwBUdyb3VwC0FsaWduQm90dG9tB1RleHRUb3AJVGV4dFJpZ2h0Ckluc2VydFRleHQNUm91bmRlZFNxdWFyZQlDb2xsYXBzZTEURGlzdHJpYnV0ZUhvcml6b250YWwJSW52aXNpYmxlDFNoYXBlX0NpcmNsZQREb3duCUFsaWduTGVmdAVQYXN0ZQpBbGlnblJpZ2h0D0FsaWduVmVydGljYWxseQ9QYXJhQWxpZ25DZW50ZXIEUGx1cwRWaWV3Bkl0YWxpYwZFeHBvcnQMU3RyYWlnaHRMaW5lDFNoYXBlX1NxdWFyZQlEdXBsaWNhdGUFQ2xvc2UIQ29sbGFwc2UHUm90YXRlMQNQYW4KVGV4dEJvdHRvbQ1QYXJhQWxpZ25MZWZ0DlBhcmFBbGlnblJpZ2h0CVRleHRJbnB1dAdQaWNrZXJzElRleHRWZXJ0aWNhbENlbnRlcgpJbnNlcnRMaW5rBFVuZG8DQ3V0BFNhdmULRHJhd2luZ01vZGUGUm90YXRlBkxheWVycwpCZWl6ZXJMaW5lBUxvY2sxBU9yZGVyCFNlbGVjdG9yCWFkZC1jaGlsZAthZGQtc2libGluZw5tdWx0aXBsZS1jaGlsZApwcm9wZXJ0aWVzE2FzcGVjdC1yYXRpby1lbmFibGUUYXNwZWN0LXJhdGlvLWRpc2FibGUSZ3JhZGllbnQtYWxpZ25lbW50FGFkZC1zYW1lLWxldmVsLWNoaWxkBG1vdmUAAAAA) format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        [class^="sf-icon-"], [class*=" sf-icon-"] {
            font-family: 'All icons Metrop' !important;
            speak: none;
            font-size: 55px;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .sf-icon-BringForward:before {
            content: "\e704";
        }

        .sf-icon-ConnectorMode:before {
            content: "\e705";
        }

        .sf-icon-DistributeHorizontal:before {
            content: "\e729";
        }

        .sf-icon-AilgnTop:before {
            content: "\e70b";
        }

        .sf-icon-DistributeVertical:before {
            content: "\e70f";
        }

        .sf-icon-AlignHorizontally:before {
            content: "\e710";
        }

        .sf-icon-AlignBottom:before {
            content: "\e723";
        }

        .sf-icon-AlignLeft:before {
            content: "\e72d";
        }

        .sf-icon-AlignRight:before {
            content: "\e72f";
        }

        .sf-icon-AlignVertically:before {
            content: "\e730";
        }

        .sf-icon-BeizerLine:before {
            content: "\e74a";
        }

    </style>
    <style>
        @@font-face {
            font-family: 'e-ddb-icons';
            src: url(data:application/x-font-ttf;charset=utf-8;base64,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) format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        .e-ddb-icons {
            font-family: 'e-ddb-icons';
            speak: none;
            font-size: 16px;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .e-basic::before {
            content: "\e726";
        }

        .e-flow::before {
            content: "\e724";
        }

        .e-connector::before {
            content: "\e725";
        }

        #container {
            display: block;
        }

        #symbolPalette {
            display: block;
        }
    </style>
    <style>
        @@font-face {
            font-family: 'e-ddb-icons1';
            src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMj1tSfIAAAEoAAAAVmNtYXDnEOdVAAABiAAAADZnbHlmdC1P4gAAAcgAAAAwaGVhZBJhohMAAADQAAAANmhoZWEIVQQDAAAArAAAACRobXR4CAAAAAAAAYAAAAAIbG9jYQAYAAAAAAHAAAAABm1heHABDgAUAAABCAAAACBuYW1lm+wy9gAAAfgAAAK1cG9zdLnsYngAAASwAAAAMAABAAAEAAAAAFwEAAAAAAAD+AABAAAAAAAAAAAAAAAAAAAAAgABAAAAAQAAgNcenF8PPPUACwQAAAAAANelrs4AAAAA16WuzgAAAAAD+AN6AAAACAACAAAAAAAAAAEAAAACAAgAAgAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQQAAZAABQAAAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5wDnAAQAAAAAXAQAAAAAAAABAAAAAAAABAAAAAQAAAAAAAACAAAAAwAAABQAAwABAAAAFAAEACIAAAAEAAQAAQAA5wD//wAA5wD//wAAAAEABAAAAAEAAAAAAAAAGAAAAAIAAAAAA/gDegACAAcAACUhCQEhATUhAQQC9P6G/YoBMQFF/YqGAjf+hgH0QwAAAAAAEgDeAAEAAAAAAAAAAQAAAAEAAAAAAAEAEwABAAEAAAAAAAIABwAUAAEAAAAAAAMAEwAbAAEAAAAAAAQAEwAuAAEAAAAAAAUACwBBAAEAAAAAAAYAEwBMAAEAAAAAAAoALABfAAEAAAAAAAsAEgCLAAMAAQQJAAAAAgCdAAMAAQQJAAEAJgCfAAMAAQQJAAIADgDFAAMAAQQJAAMAJgDTAAMAAQQJAAQAJgD5AAMAAQQJAAUAFgEfAAMAAQQJAAYAJgE1AAMAAQQJAAoAWAFbAAMAAQQJAAsAJAGzIERpYWdyYW1fU2hhcGVzX0ZPTlRSZWd1bGFyRGlhZ3JhbV9TaGFwZXNfRk9OVERpYWdyYW1fU2hhcGVzX0ZPTlRWZXJzaW9uIDEuMERpYWdyYW1fU2hhcGVzX0ZPTlRGb250IGdlbmVyYXRlZCB1c2luZyBTeW5jZnVzaW9uIE1ldHJvIFN0dWRpb3d3dy5zeW5jZnVzaW9uLmNvbQAgAEQAaQBhAGcAcgBhAG0AXwBTAGgAYQBwAGUAcwBfAEYATwBOAFQAUgBlAGcAdQBsAGEAcgBEAGkAYQBnAHIAYQBtAF8AUwBoAGEAcABlAHMAXwBGAE8ATgBUAEQAaQBhAGcAcgBhAG0AXwBTAGgAYQBwAGUAcwBfAEYATwBOAFQAVgBlAHIAcwBpAG8AbgAgADEALgAwAEQAaQBhAGcAcgBhAG0AXwBTAGgAYQBwAGUAcwBfAEYATwBOAFQARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAdQBzAGkAbgBnACAAUwB5AG4AYwBmAHUAcwBpAG8AbgAgAE0AZQB0AHIAbwAgAFMAdAB1AGQAaQBvAHcAdwB3AC4AcwB5AG4AYwBmAHUAcwBpAG8AbgAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgECAQMABlNoYXBlcwAA) format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        .e-ddb-icons1 {
            font-family: 'e-ddb-icons1';
            speak: none;
            font-size: 16px;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .sb-mobile-palette {
            width: 240px;
            height: 100%;
            float: left;
        }

        .sb-mobile-palette-bar {
            display: none;
        }

        .sb-mobile-diagram {
            width: calc(100% - 242px);
            height: calc(100%);
            float: left;
        }

        @@media (max-width: 550px) {
            .sb-mobile-palette {
                z-index: 19;
                position: absolute;
                display: none;
                transition: transform 300ms linear, visibility 0s linear 300ms;
                width: 30%;
                height: 100%;
            }

            .sb-mobile-palette-bar {
                display: block;
                width: 100%;
                background: #fafafa;
                padding: 14px 10px;
                border: 0.5px solid #e0e0e0;
                min-height: 54px;
            }

            .sb-mobile-diagram {
                width: 100%;
                height: 100%;
                float: left;
                left: 0px;
            }

            #palette-icon {
                font-size: 20px;
            }
        }

        .sb-mobile-palette-open {
            position: absolute;
            display: block;
            right: 15px;
        }

        .e-toggle-palette::before {
            content: "\e700"
        }

        #properties {
            width: 100%;
            float: left;
        }

        .collab-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            width: 100%;
        }

        .collab-toolbar {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            flex: 1 1;
        }

        .collab-guests-count {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .pill {
            padding: 2px 10px;
            border-radius: 999px;
            background: #eef3ff;
            color: #3751ff;
            font-size: 12px;
            line-height: 20px;
            min-width: 24px;
            text-align: center;
        }
        html, body {
            height: 100%;
            overflow: hidden;
            font-family: "Roboto","GeezaPro","DejaVu Serif";
            letter-spacing: 0.3px;
        }
        .collab-title
        {
        background-color: #046ae5;
        width: 100%;
        height: 32px;
        }
        #diagramName {
        display: block;
        outline: 0;
        color: #fff;
        float: left;
        margin-top: 8px;
        margin-left: 16px;
    }
    </style>
    @*End:Hidden*@
    <div style="width: 100%; height: 100%;">
        @*Hidden:Lines*@
        <div class="sb-mobile-palette-bar">
            <div id="palette-icon" style="float: right;" role="button" @onclick="ShowHideSymbolPalette" class="e-ddb-icons1 e-toggle-palette"></div>
        </div>
        @*End:Hidden*@
    <div class="collab-title"

<h1 id="diagramName" style="width: 250px; font-size: 14px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" class="db-diagram-name">@diagramName</h1>
    </div>
    <div class="collab-header">
            <div class="collab-toolbar">
        <SfToolbar Width="100%" Height="40px">
            <ToolbarEvents Clicked="@ToolbarEditorClick"></ToolbarEvents>
            <ToolbarItems>
                <ToolbarItem TooltipText="New Diagram" PrefixIcon="e-icons e-circle-add"></ToolbarItem>
                <ToolbarItem TooltipText="Open Diagram" PrefixIcon="e-icons e-folder-open"></ToolbarItem>
                <ToolbarItem TooltipText="Save Diagram" PrefixIcon="e-icons e-save"></ToolbarItem>
                <ToolbarItem TooltipText="Print Diagram" PrefixIcon="e-icons e-print"></ToolbarItem>
                <ToolbarItem>
                    <Template>
                        <SfDropDownButton IconCss="e-icons e-export">
                            <DropDownButtonEvents ItemSelected="@SelectedItem"></DropDownButtonEvents>
                            <DropDownMenuItems>
                                <DropDownMenuItem Text="JPG"></DropDownMenuItem>
                                <DropDownMenuItem Text="PNG"></DropDownMenuItem>
                                <DropDownMenuItem Text="SVG"></DropDownMenuItem>
                            </DropDownMenuItems>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                <ToolbarItem Type="@ItemType.Separator" Align="ItemAlign.Center"></ToolbarItem>
                <ToolbarItem TooltipText="Cut" PrefixIcon="e-icons e-cut" Disabled="@IsEnableCutButton"></ToolbarItem>
                <ToolbarItem TooltipText="Copy" PrefixIcon="e-icons e-copy" Disabled="@IsEnableCopyButton"></ToolbarItem>
                <ToolbarItem TooltipText="Paste" PrefixIcon="e-icons e-paste" Disabled="@IsEnablePasteButton"></ToolbarItem>
                <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                <ToolbarItem PrefixIcon="e-icons e-undo" TooltipText="Undo" Disabled="@IsEnableUndoButton"></ToolbarItem>
                <ToolbarItem PrefixIcon="e-icons e-redo" TooltipText="Redo" Disabled="@IsEnableRedoButton"></ToolbarItem>
                <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                <ToolbarItem PrefixIcon="e-caption e-icons" TooltipText="Text Tool"></ToolbarItem>
                <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                <ToolbarItem TooltipText="Draw Connectors">
                    <Template>
                        <SfDropDownButton ID="btnDrawConnector" IconCss="e-btn-icon e-ddb-icons e-connector e-icons">
                            <DropDownButtonEvents ItemSelected="@SelectedItem"></DropDownButtonEvents>
                            <DropDownMenuItems>
                                <DropDownMenuItem IconCss="e-menu-icon e-line e-icons" Text="Straight"></DropDownMenuItem>
                                <DropDownMenuItem IconCss="sf-icon-ConnectorMode" Text="Orthogonal"></DropDownMenuItem>
                                <DropDownMenuItem IconCss="sf-icon-BeizerLine" Text="Bezier"></DropDownMenuItem>
                            </DropDownMenuItems>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                <ToolbarItem TooltipText="Draw Shapes">
                    <Template>
                        <SfDropDownButton ID="btnDrawConnector1" IconCss="e-btn-icon e-shapes e-icons">
                            <DropDownButtonEvents ItemSelected="@SelectedItem"></DropDownButtonEvents>
                            <DropDownMenuItems>
                                <DropDownMenuItem IconCss="e-menu-icon e-rectangle e-icons" Text="Rectangle"></DropDownMenuItem>
                                <DropDownMenuItem IconCss="e-menu-icon  e-circle e-icons" Text="Ellipse"></DropDownMenuItem>
                                <DropDownMenuItem IconCss="e-menu-icon e-line e-icons" Text="Polygon"></DropDownMenuItem>
                            </DropDownMenuItems>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
                <ToolbarItem Type="@ItemType.Separator"></ToolbarItem>
                <ToolbarItem TooltipText="Group/Ungroup" Disabled="@IsMultipleNode">
                    <Template>
                        <SfDropDownButton IconCss="e-icons e-group-1">
                            <DropDownButtonEvents ItemSelected="@SelectedItem"></DropDownButtonEvents>
                            <DropDownMenuItems>
                                <DropDownMenuItem IconCss="e-icons e-group-1" Text="Group"></DropDownMenuItem>
                                <DropDownMenuItem IconCss="e-icons e-ungroup-1" Text="Ungroup"></DropDownMenuItem>
                            </DropDownMenuItems>
                        </SfDropDownButton>
                    </Template>
                </ToolbarItem>
            </ToolbarItems>
        </SfToolbar>
            </div>
            <div class="collab-guests-count">
                <span>Available Guests:</span>
                <span class="pill">@ActiveUsers.Count</span>
            </div>
        </div>
        <div id="palette-space" class="sb-mobile-palette">
            <SfSymbolPaletteComponent @ref="@PaletteInstance" Height="100%" ShowSearchTextBox="true" SymbolDragPreviewSize="@SymbolPreview" Palettes="@DiagramPalettes" SymbolHeight="60" SymbolWidth="60" SymbolMargin="@SymbolMargin">
            </SfSymbolPaletteComponent>
        </div>
        <div id="diagram-space" class="sb-mobile-diagram">
            <div class="content-wrapper" style="border: 1px solid #D7D7D7; height: calc(100% - 72px)">
                <DiagramMessagePopUp @ref="DiagramMessageRef"></DiagramMessagePopUp>
                <SfDiagramComponent @ref="@DiagramInstance" ID="@DiagramId" @bind-Connectors="@DiagramConnectors" HistoryChanged="@OnHistoryChange" Created="OnCreated" SelectionChanging="@OnSelectionChanging" SelectionChanged="@OnSelectionChanged" Height="100%" GetCustomTool="@GetCustomTool" @bind-Nodes="@DiagramNodes" SelectionSettings="@SelectionSettings" NodeCreating="OnNodeCreating" ConnectorCreating="OnConnectorCreating" DragDrop="DragDropEvent" @bind-InteractionController="@DiagramTool" @bind-DrawingObject="@DiagramDrawingObject"
                >
                    <SnapSettings>
                        <HorizontalGridLines LineColor="#e0e0e0 " LineIntervals="@GridLineIntervals">
                        </HorizontalGridLines>
                        <VerticalGridLines LineColor="#e0e0e0" LineIntervals="@GridLineIntervals">
                        </VerticalGridLines>
                    </SnapSettings>
                    <PageSettings MultiplePage="true">
                    </PageSettings>
                    <ContextMenuSettings Show="true"></ContextMenuSettings>
                    <DiagramHistoryManager EnableGroupActions="true"></DiagramHistoryManager>
                </SfDiagramComponent>
                @{
                    List<string> SelectedElements = new();
                }
                <svg xmlns="http://www.w3.org/2000/svg">
                    <g id="badge-layer">
                        @foreach (var (_, peer) in _peerSelections)
                        {
                            if (peer.selectorBounds?.Bounds != null)
                            {
                                var cx = peer.selectorBounds.Bounds.X;
                                var cy = peer.selectorBounds.Bounds.Y;
                                var w = peer.selectorBounds.Bounds.Width + 2;
                                var h = peer.selectorBounds.Bounds.Height + 2;
                                var angle = peer.selectorBounds.RotationAngle;

                                var sx = (cx - peer.selectorBounds.Bounds.Width / 2);
                                var sy = (cy - peer.selectorBounds.Bounds.Height / 2);
                                var sw = w;
                                var sh = h;

                                <rect x="@sx" y="@sy" width="@w" height="@h" stroke="#3b82f6" stroke-width="2" fill="none" transform="rotate(@angle,@cx,@cy)" />

                                var userName = peer.UserName;

                                bool hasMultipleUsers = SelectedElements.Intersect(peer.NodeIds).Any();
                                int overlapCount = SelectedElements.Intersect(peer.NodeIds).Count();

                                var offsetX = 5;
                                var offsetY = 20 * (hasMultipleUsers ? overlapCount : 0) - 15;

                                var rad = angle * Math.PI / 180; // convert to radians

                                // Original top-right corner before rotation
                                var originalX = cx + w / 2.0;
                                var originalY = cy - h / 2.0;

                                // Apply rotation around center
                                var rotatedX = cx + (originalX - cx) * Math.Cos(rad) - (originalY - cy) * Math.Sin(rad);
                                var rotatedY = cy + (originalX - cx) * Math.Sin(rad) + (originalY - cy) * Math.Cos(rad);

                                rotatedX += offsetX;
                                rotatedY += offsetY;

                                @if (int.TryParse(userName, out int userId))
                                {
                                    string userTitle = $"Guest ID: SF{userId:D4}";
                                    string userDetail = $"G-{userId:D4}";

                                    <foreignObject x="@rotatedX" y="@rotatedY" width="50" height="30">
                                        <div xmlns="http://www.w3.org/1999/xhtml" title="@userTitle"
                                        style="background:#3b82f6; color:#fff; border-radius:10px; display:flex; align-items:center; justify-content:center;">
                                            @userDetail
                                        </div>
                                    </foreignObject>
                                }
                                SelectedElements.AddRange(peer.NodeIds);
                            }
                        }
                        }
                    </g>
                </svg>
            </div>
        </div>
    </div>
    <div style="display: none;visibility: hidden;">
        <SfUploader @ref="@UploadFiles" ID="UploadFiles" ShowFileList="false" AllowedExtensions="@ExtensionType">
            <UploaderEvents OnUploadStart="@OnUploadFileSelected"></UploaderEvents>
            <UploaderAsyncSettings SaveUrl="https://blazor.syncfusion.com/services/production/api/FileUploader/Save"
            RemoveUrl="https://blazor.syncfusion.com/services/production/api/FileUploader/Remove"></UploaderAsyncSettings>
        </SfUploader>
    </div>

@code {
    public int ConnectorCount { get; set; } = 0;
    public DiagramSelectionSettings SelectionSettings { get; set; } = new DiagramSelectionSettings();
    public DiagramSize? SymbolPreview { get; set; }
    public SymbolMargin? SymbolMargin { get; set; } = new SymbolMargin { Left = 10, Right = 10, Top = 10, Bottom = 10 };
    public SfDiagramComponent? DiagramInstance { get; set; }
    public SfSymbolPaletteComponent? PaletteInstance { get; set; }
    public string ZoomItemDropdownContent { get; set; } = "100 %";
    public enum PdfPageOrientation
    {
        Portrait,
        Landscape
    }
    public string? data;
    public bool IsEnablePasteButton { get; set; } = true;
    public bool IsEnableCutButton { get; set; } = true;
    public bool IsEnableCopyButton { get; set; } = true;
    public bool IsEnableUndoButton { get; set; } = true;
    public bool IsEnableRedoButton { get; set; } = true;
    public string ExtensionType { get; set; } = ".json";
    public bool IsMultipleNode { get; set; } = true;
    public bool IsSingleNode { get; set; } = true;
    public string DiagramId = "diagram";
    private IDiagramObject? DiagramDrawingObject { get; set; }
    private DiagramInteractions DiagramTool { get; set; } = DiagramInteractions.Default;
    //Defines DiagramInstance's nodes collection
    public DiagramObjectCollection<Node>? DiagramNodes { get; set; } = new DiagramObjectCollection<Node>();
    //Defines Diagram's connectors collection
    public DiagramObjectCollection<Connector>? DiagramConnectors { get; set; } = new DiagramObjectCollection<Connector>();
    //Define DiagramPalettes collection
    public DiagramObjectCollection<Palette>? DiagramPalettes { get; set; } = new DiagramObjectCollection<Palette>();
    // Defines palette's flow-shape collection
    public DiagramObjectCollection<NodeBase>? PalettesFlowShapes { get; set; } = new DiagramObjectCollection<NodeBase>();
    // Defines interval values for GridLines
    public double[]? GridLineIntervals { get; set; }
    // Defines palette's connector collection
    public DiagramObjectCollection<NodeBase>? PalettesConnectorSymbols { get; set; } = new DiagramObjectCollection<NodeBase>();
    //Reference to uploder
    public SfUploader? UploadFiles { get; set; }
    [Inject]
    protected IJSRuntime? jsRuntime { get; set; }
    List<string> undoStack = new List<string>();
    List<string> redoStack = new List<string>();
    private string diagramName = "Live Diagram Collaboration";
    #region Collaborative editing 
    DiagramMessagePopUp DiagramMessageRef;
    private string ConnectionId;
    private List<string> ActiveUsers = new();
    bool isLoadDiagram = false;
    List<string> editedElements = new();
    bool isGroupAction = false;
    bool isRevertingCurrentChanges = false;
    private string currentUser = string.Empty;
    string roomName = "diagram_group";
    private long clientVersion = 0;
    HubConnection? connection;
    static int userCount = 1;

    public class DiagramUser
    {
        public string ConnectionId { get; set; } = string.Empty;
        public string UserId { get; set; } = string.Empty;
        public string UserName { get; set; } = string.Empty;
        public DateTime JoinedAt { get; set; }
    }

    public class DiagramData
    {
        public string DiagramId { get; set; } = string.Empty;
        public string Data { get; set; } = string.Empty;
        public int Version { get; set; } = 1;
    }

    private IEnumerable<string>? GetEditedElementIds(HistoryChangedEventArgs args)
    {
        HistoryEntryBase historyEntry = args.Entry as HistoryEntryBase;
        if (args == null && historyEntry == null)
        {
            return null;
        }
        List<NodeBase> changedObjects = GetChangedObjects(args, historyEntry);
        if ((args == null && historyEntry == null) && (args != null && args.EntryType == HistoryEntryType.StartGroup || args.EntryType == HistoryEntryType.EndGroup))
        {
            return null;
        }
        List<string> all = changedObjects.Select(n => n.ID).ToList();

        var parentIds = changedObjects
            .SelectMany(nodeObj =>
            {
                var ids = new List<string?>();
                if (nodeObj.AdditionalInfo.TryGetValue("parentId", out var parent))
                    ids.Add(parent?.ToString());
                if (nodeObj.AdditionalInfo.TryGetValue("swimlaneId", out var swimlane))
                    ids.Add(swimlane?.ToString());
                return ids;
            })
            .Where(pid => !string.IsNullOrEmpty(pid));

        all.AddRange(parentIds);
        foreach (var node in changedObjects.OfType<Node>())
        {
            if (node.Shape is BpmnTextAnnotation bpmnTextAnnotation)
            {
                all.Add(bpmnTextAnnotation.TextAnnotationTarget);
            }
        }
        return all.Where(id => !string.IsNullOrEmpty(id)).Distinct();
    }

    private List<NodeBase> GetChangedObjects(HistoryChangedEventArgs args, HistoryEntryBase historyEntry)
    {
        if (args.ActionTrigger is not (HistoryChangedAction.Undo or HistoryChangedAction.Redo))
        {
            return args.Source;
        }

        IDiagramObject? historyObject = (args.ActionTrigger == HistoryChangedAction.Undo)
                                ? historyEntry.UndoObject
                                : historyEntry.RedoObject;

        switch (historyObject)
        {
            case DiagramSelectionSettings selectionSettings:
                {
                    var objects = new List<NodeBase>();

                    objects.AddRange(selectionSettings.Nodes);
                    objects.AddRange(selectionSettings.Connectors);
                    objects.AddRange(selectionSettings.Swimlanes);
                    objects.AddRange(selectionSettings.Phases);
                    objects.AddRange(selectionSettings.Lanes);

                    if (selectionSettings.Header != null)
                    {
                        objects.Add(selectionSettings.Header);
                    }

                    return objects;
                }
            case NodeBase nodeBase:
                {
                    return new List<NodeBase> { nodeBase };
                }
            default:
                {
                    return args.Source;
                }
        }
    }

    private (List<Node> Nodes, List<Swimlane> Swimlanes, List<Connector> Connectors, List<Phase> Phases, List<Lane> Lanes, List<SwimlaneHeader> Headers)
    ExtractObjects(List<NodeBase> changedObjects, HistoryChangedEventArgs args, HistoryEntryBase historyEntry)
    {
        var nodes = new List<Node>();
        var swimlanes = new List<Swimlane>();
        var connectors = new List<Connector>();
        var phases = new List<Phase>();
        var lanes = new List<Lane>();
        var headers = new List<SwimlaneHeader>();

        if (changedObjects == null) return (nodes, swimlanes, connectors, phases, lanes, headers);

        foreach (var obj in changedObjects)
        {
            switch (obj)
            {
                case Swimlane swimlane:
                    swimlanes.Add(swimlane);
                    break;
                case Node node:
                    nodes.Add(node);
                    break;
                case Connector connector:
                    connectors.Add(connector);
                    break;
                case Phase phase:
                    phases.Add(phase);
                    break;
                case Lane lane:
                    lanes.Add(lane);
                    break;
                case SwimlaneHeader header:
                    headers.Add(header);
                    break;
            }
        }
        return (nodes, swimlanes, connectors, phases, lanes, headers);
    }

    private string GenerateRoomId()
    {
        return Guid.NewGuid().ToString("N")[..8].ToUpper();
    }

    private async Task InitializeSignalR()
    {
        if (connection == null)
        {
            connection = new HubConnectionBuilder()
                        .WithUrl(NavigationManager.ToAbsoluteUri("diagramHub"), options =>
                        {
                            options.SkipNegotiation = true;
                            options.Transports = Microsoft.AspNetCore.Http.Connections.HttpTransportType.WebSockets;
                        })
                        .WithAutomaticReconnect()
                        .Build();
            connection.On<string>("OnSaveDiagramState", OnSaveDiagramState);
            connection.On("ShowConflict", ShowConflict);
            connection.On("RevertCurrentChanges", RevertCurrentChanges);
            connection.On<string>("OnConnectedAsync", OnConnectedAsync);
            connection.On<long>("UpdateVersion", UpdateVersion);
            connection.On<List<string>>("CurrentUsers", CurrentUsers);
            connection.On<DiagramData>("LoadDiagramData", OnLoadDiagramData);
            connection.On<List<string>, long, SelectionEvent>("ReceiveData", async (diagramChanges, serverVersion, selectionEvent) =>
            {
                await InvokeAsync(() => OnReceiveDiagramUpdate(diagramChanges, serverVersion, selectionEvent));
            });
            connection.On<string>("UserJoined", ShowUserJoined);
            connection.On<string>("UserLeft", ShowUserLeft);
            connection.On("UpdateSelectionHighlighter", SendCurrentSelectorBoundsToOtherClient);
            connection.On<List<SelectionEvent>>("PeerSelectionsBootstrap", async list =>
            {
                foreach (var evt in list)
                    _peerSelections[evt.ConnectionId] = (evt.UserName ?? "User", evt.ElementIds?.ToHashSet() ?? new(), evt.SelectorBounds);
                await InvokeAsync(StateHasChanged);
            });

            connection.On<SelectionEvent>("PeerSelectionChanged", async (evt) =>
            {
                await InvokeAsync(() =>
                {
                    PeerSelectionChanged(evt);
                    StateHasChanged();
                }
                );
            });

            connection.On<SelectionEvent>("PeerSelectionCleared", async evt =>
            {
                if (evt != null)
                {
                    _peerSelections.Remove(evt.ConnectionId);
                    await InvokeAsync(StateHasChanged);
                }
            });
            await connection.StartAsync();
        }
    }
    private bool IsEqual(DiagramRect bounds1, DiagramRect bounds2)
    {
        return bounds1.X == bounds2.X && bounds1.Y == bounds2.Y && bounds1.Width == bounds2.Width && bounds1.Height == bounds2.Height;
    }
    private void RevertCurrentChanges()
    {
        isRevertingCurrentChanges = true;
        DiagramInstance.Undo();
        isRevertingCurrentChanges = false;
    }
    private async Task ShowConflict()
    {
        string message = "You have a conflicts in your page. Your changes could not be merged.";
        await DiagramMessageRef.ShowToastAsync(message);
    }
    private async Task ShowUserLeft(string userName)
    {
        int userIdNumber = int.Parse(userName);
        string message = $"SF{userIdNumber:D4} left the diagram.";
        await DiagramMessageRef.ShowToastAsync(message);
    }
    private async Task ShowUserJoined(string userName)
    {
        int userIdNumber = int.Parse(userName);
        string message = $"SF{userIdNumber:D4} joined the diagram.";
        await DiagramMessageRef.ShowToastAsync(message);
    }
    private async Task OnConnectedAsync(string connectionId)
    {
        if (!string.IsNullOrEmpty(connectionId))
        {
            this.ConnectionId = connectionId;
            currentUser = string.IsNullOrEmpty(currentUser) ? $"{userCount}" : currentUser;
            // Join the room after connection is established
            if (connection.State != HubConnectionState.Disconnected)
                await connection.SendAsync("JoinDiagram", roomName, DiagramId, currentUser);
            userCount++;
        }
    }

    private async Task OnSaveDiagramState(string requestId)
    {
        try
        {
            string data = DiagramInstance.SaveDiagram();
            if(connection.State != HubConnectionState.Disconnected)
                await connection.InvokeAsync("ProvideDiagramState", requestId, data);
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Saving diagram state failed: {ex}");
        }
    }

    private async Task OnReceiveDiagramUpdate(List<string> diagramChanges, long newVersion, SelectionEvent evt)
    {
        await DiagramInstance.SetDiagramUpdatesAsync(diagramChanges);
        this.clientVersion = newVersion;
        await PeerSelectionChanged(evt);
        StateHasChanged();
    }
    private void UpdateVersion(long newVersion)
    {
        this.clientVersion = newVersion;
    }
    private void CurrentUsers(List<string> newusers)
    {
        this.ActiveUsers = newusers;
        InvokeAsync(StateHasChanged);
    }
    private async Task PeerSelectionChanged(SelectionEvent evt)
    {
        if (DiagramInstance.SelectionSettings != null && evt != null && !string.IsNullOrEmpty(evt.UserId) && evt.ElementIds.Count > 0)
        {
            _peerSelections[evt.ConnectionId] = (evt.UserName ?? string.Empty, evt.ElementIds?.ToHashSet() ?? new(), evt.SelectorBounds);
            foreach (var (key, peer) in _peerSelections)
            {
                if (key == evt.ConnectionId) continue;
                if (peer.NodeIds != null && peer.NodeIds.SetEquals(evt.ElementIds))
                {
                    if (!IsEqual(peer.selectorBounds.Bounds, evt.SelectorBounds.Bounds) || peer.selectorBounds.RotationAngle != evt.SelectorBounds.RotationAngle)
                    {
                        _peerSelections[key] = (peer.UserName, peer.NodeIds, evt.SelectorBounds);
                    }
                }
            }
        }
    }
    private async Task OnLoadDiagramData(DiagramData data)
    {
        if (data != null)
        {
            if (!string.IsNullOrEmpty(data.Data))
            {
                await InvokeAsync(async () =>
                {
                    isLoadDiagram = true;
                    JsonSerializerOptions serializerOptions = new JsonSerializerOptions
                    {
                        WriteIndented = true,
                    };
                    if(DiagramInstance != null)
                        await DiagramInstance.LoadDiagramAsync(data.Data);
                    isLoadDiagram = false;
                });

            }
        }
    }
    #region User cursor
    private readonly Dictionary<string, (string UserName, HashSet<string> NodeIds, SelectorBounds selectorBounds)> _peerSelections = new(StringComparer.Ordinal);

    private static string Initials(string? name)
    {
        if (string.IsNullOrWhiteSpace(name)) return "?";
        var parts = name.Trim().Split(' ', StringSplitOptions.RemoveEmptyEntries).Take(2);
        return string.Concat(parts.Select(p => char.ToUpperInvariant(p[0])));
    }

    public class SelectorBounds
    {
        public DiagramRect Bounds { get; set; }
        public double RotationAngle { get; set; }
    }

    public sealed class SelectionEvent
    {
        public string ConnectionId { get; set; } = default!;
        public string DiagramId { get; set; } = default!;
        public string? UserId { get; set; }
        public string? UserName { get; set; }
        public List<string>? ElementIds { get; set; }
        public long TimestampUnixMs { get; set; }
        public SelectorBounds SelectorBounds { get; set; }
    }
    private List<string> GetSelectedIds(DiagramSelectionSettings selectionSettings)
    {
        var ids = new List<string>();

        // Collect all selected objects
        var objects = new List<NodeBase>();
        objects.AddRange(selectionSettings.Nodes);
        objects.AddRange(selectionSettings.Connectors);
        objects.AddRange(selectionSettings.Swimlanes);
        objects.AddRange(selectionSettings.Phases);
        objects.AddRange(selectionSettings.Lanes);
        if (selectionSettings.Header != null)
        {
            objects.Add(selectionSettings.Header);
        }
        ids = objects
            .Where(obj => !string.IsNullOrEmpty(obj.ID))
            .Select(obj => obj.ID)
            .ToList();
        return ids;
    }

    public bool HasExactMatch(string myConnectionId, HashSet<string> myNodeIds)
    {
        return _peerSelections
            .Where(kvp => kvp.Key != myConnectionId) // exclude self
            .Any(kvp => kvp.Value.NodeIds.SetEquals(myNodeIds)); // exact match
    }

    public List<string> GetUsersWithExactMatch(string myConnectionId, HashSet<string> myNodeIds)
    {
        return _peerSelections
            .Where(kvp => kvp.Key != myConnectionId && kvp.Value.NodeIds.SetEquals(myNodeIds))
            .Select(kvp => kvp.Value.UserName)
            .ToList();
    }

    private async Task<(List<string>, SelectorBounds)> UpdateOtherClientSelectorBounds()
    {
        DiagramSelectionSettings diagramSelectionSettings = DiagramInstance.SelectionSettings;
        HashSet<string> elementIds = new();
        SelectorBounds bounds = new();
        bool canRefresh = false;

        if (diagramSelectionSettings != null)
        {
            elementIds = GetSelectedIds(diagramSelectionSettings).ToHashSet();
            var editedSet = new HashSet<string>(editedElements);
            var keysToRemove = new List<string>();
            bounds = new SelectorBounds()
            {
                Bounds = new DiagramRect() { X = diagramSelectionSettings.OffsetX, Y = diagramSelectionSettings.OffsetY, Width = diagramSelectionSettings.Width, Height = diagramSelectionSettings.Height },
                RotationAngle = diagramSelectionSettings.RotationAngle
            };
            foreach (var kvp in _peerSelections.Where(p => p.Key != this.ConnectionId))
            {
                if (elementIds.Count == 0)
                {
                    var commonIds = kvp.Value.NodeIds.Where(id => editedSet.Contains(id)).ToList();

                    if (commonIds.Count > 0)
                    {
                        foreach (string id in commonIds)
                        {
                            var objectValue = DiagramInstance.GetObject(id);
                            if (objectValue == null)
                            {
                                kvp.Value.NodeIds.Remove(id);
                                canRefresh = true;
                            }
                        }

                        if (!kvp.Value.NodeIds.Any())
                        {
                            keysToRemove.Add(kvp.Key);
                            canRefresh = true;
                        }
                    }
                }
                else if (kvp.Value.NodeIds.SetEquals(elementIds))
                {

                    _peerSelections[kvp.Key] = (kvp.Value.UserName, kvp.Value.NodeIds, bounds);
                    canRefresh = true;
                }
            }
            foreach (var key in keysToRemove)
            {
                _peerSelections.Remove(key);
            }

            if (canRefresh)
                await InvokeAsync(StateHasChanged);
        }
        return (elementIds.ToList(), bounds);
    }

    private async Task SendCurrentSelectorBoundsToOtherClient()
    {
        var (elementIds, bounds) = await UpdateOtherClientSelectorBounds();
        if (connection.State != HubConnectionState.Disconnected)
            await connection.InvokeAsync("SelectElements", elementIds, bounds, true);
    }
    #endregion
    #endregion

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        PaletteInstance!.Targets = new DiagramObjectCollection<SfDiagramComponent?>
        {
            DiagramInstance
        };
        if (firstRender)
        {
            try
            {
                await JS.InvokeVoidAsync("moveBadgeLayerToDiagramLayer", "badge-layer", "diagram_diagramlayer");
            }
            catch
            {
                // Fallback: define and call inline if script wasn't loaded yet
                await JS.InvokeVoidAsync("eval", @"(function(){
                    if (typeof window.moveBadgeLayerToDiagramLayer !== 'function') {
                        window.moveBadgeLayerToDiagramLayer = function (badgeLayerId, diagramLayerId) {
                            const badgeLayer = document.getElementById(badgeLayerId);
                            const diagramLayer = document.getElementById(diagramLayerId);
                            if (badgeLayer && diagramLayer) {
                                diagramLayer.appendChild(badgeLayer);
                            }
                        };
                    }
                    window.moveBadgeLayerToDiagramLayer('badge-layer','diagram_diagramlayer');
                })();");
            }
            await InitializeSignalR();
        }
    }
    public async void OnHistoryChange(HistoryChangedEventArgs args)
    {
        if (args != null && DiagramInstance != null && !isLoadDiagram && !isRevertingCurrentChanges)
        {
            UpdateUndoRedoToolbarIcon(args);
            bool isUndo = args.ActionTrigger == HistoryChangedAction.Undo;
            bool isStartGroup = args.EntryType == (isUndo ? HistoryEntryType.EndGroup : HistoryEntryType.StartGroup);
            bool isEndGroup = args.EntryType == (isUndo ? HistoryEntryType.StartGroup : HistoryEntryType.EndGroup);

            if (isStartGroup) { editedElements = new(); isGroupAction = true; }
            List<string> parsedData = DiagramInstance.GetDiagramUpdates(args);
            editedElements.AddRange(GetEditedElementIds(args).ToList());
            if (parsedData.Count > 0)
            {
                var (selectedElementIds, selectorBounds) = await UpdateOtherClientSelectorBounds();
                SelectionEvent currentSelectionDetails = new SelectionEvent() { ElementIds = selectedElementIds, SelectorBounds = selectorBounds };
                if (connection.State != HubConnectionState.Disconnected)
                    await connection.SendAsync("BroadcastToOtherClients", parsedData, clientVersion, editedElements, currentSelectionDetails, roomName);
            }
            if (isEndGroup || !isGroupAction) { editedElements = new(); isGroupAction = false; }
        }
    }
    private void UpdateUndoRedoToolbarIcon(HistoryChangedEventArgs args)
    {
        if (args.ActionTrigger == HistoryChangedAction.CustomAction)
        {
            if (redoStack.Count > 0)
            {
                redoStack.Clear();
            }
            string entryLog = args.EntryType.ToString();
            undoStack.Add(entryLog);
        }
        else if (args.ActionTrigger == HistoryChangedAction.Redo && redoStack.Count > 0)
        {
            undoStack.Add(redoStack[^1]);
            redoStack.RemoveAt(redoStack.Count - 1);
        }
        else if (args.ActionTrigger == HistoryChangedAction.Undo && undoStack.Count > 0)
        {
            redoStack.Add(undoStack[^1]);
            undoStack.RemoveAt(undoStack.Count - 1);
        }
        IsEnableUndoButton = undoStack.Count == 0;
        IsEnableRedoButton = redoStack.Count == 0;
    }
    public void DragDropEvent(DropEventArgs args)
    {
        if (args.Element is Node node && node.Tooltip != null)
        {
            node.Tooltip = null;
            node.Constraints &= ~NodeConstraints.Tooltip;
        }
        else if (args.Element is Connector connector && connector.Tooltip != null)
        {
            connector.Tooltip = null;
            connector.Constraints &= ~ConnectorConstraints.Tooltip;
        }
    }
    public void UpdateToolbarItems()
    {
        int? nodeCount = DiagramInstance?.SelectionSettings!.Nodes!.Count;
        int? ConnectorCount = DiagramInstance?.SelectionSettings!.Connectors!.Count;
        if (nodeCount + ConnectorCount == 0)
        {
            IsEnableCopyButton = true;
            IsEnableCutButton = true;
        }
        else
        {
            IsEnableCopyButton = false;
            IsEnableCutButton = false;
        }
        if (nodeCount > 0)
        {
            IsSingleNode = false;
            if (nodeCount >= 2 || DiagramInstance?.SelectionSettings!.Nodes[0] is NodeGroup)
            {
                IsMultipleNode = false;
            }
        }
        else
        {
            IsSingleNode = true;
            IsMultipleNode = true;
        }
    }

    public async void OnSelectionChanging(Syncfusion.Blazor.Diagram.SelectionChangingEventArgs args)
    {
        if (args.NewValue!.Count > 1)
        {
            DiagramInstance!.SelectionSettings!.Constraints = DiagramInstance.SelectionSettings.Constraints & ~SelectorConstraints.Rotate;
        }
        else
        {
            DiagramInstance!.SelectionSettings!.Constraints = DiagramInstance.SelectionSettings.Constraints | SelectorConstraints.Rotate;
        }
    }

    public async void OnSelectionChanged(Syncfusion.Blazor.Diagram.SelectionChangedEventArgs args)
    {
        this.UpdateToolbarItems();

        if (connection.State != HubConnectionState.Disconnected)
        {
            if (args?.NewValue is { Count: > 0 })
            {
                var ids = args.NewValue
                .OfType<NodeBase>()
                .Select(o => o.ID)
                                  .Where(id => !string.IsNullOrWhiteSpace(id))
                .Distinct()
                .ToList();

                DiagramSelectionSettings diagramSelectionSettings = DiagramInstance.SelectionSettings;
                if (diagramSelectionSettings != null)
                {
                    SelectorBounds bounds = new SelectorBounds()
                    {
                        Bounds = new DiagramRect() { X = diagramSelectionSettings.OffsetX, Y = diagramSelectionSettings.OffsetY, Width = diagramSelectionSettings.Width, Height = diagramSelectionSettings.Height },
                        RotationAngle = diagramSelectionSettings.RotationAngle
                    };
                    await connection.InvokeAsync("SelectElements", ids, bounds);
                }
            }
            else
                await connection.InvokeAsync("ClearSelection");
        }
    }

    public void OnCreated()
    {
        FitOptions options = new FitOptions() { Mode = FitMode.Both, Region = DiagramRegion.Content };
        DiagramInstance.FitToPage(options);
    }

    // Method to customize the tool
    public InteractionControllerBase GetCustomTool(DiagramElementAction action, string id)
    {
        InteractionControllerBase? tool = null;
        if (id == "Draw")
        {
            tool = new DrawTool(DiagramInstance!);
        }
        else
        {
            tool = new AddDeleteTool(DiagramInstance!);
        }
        return tool;
    }
    // Custom tool to delete the node.
    public class AddDeleteTool : InteractionControllerBase
    {
        SfDiagramComponent sfDiagram;
        Node? deleteObject = null;
        public AddDeleteTool(SfDiagramComponent Diagram) : base(Diagram)
        {
            sfDiagram = Diagram;
        }
        public override void OnMouseDown(DiagramMouseEventArgs args)
        {
            if (sfDiagram.SelectionSettings!.Nodes!.Count > 0 && ((sfDiagram.SelectionSettings.Nodes[0]) is Node))
            {
                deleteObject = (sfDiagram.SelectionSettings.Nodes[0]) as Node;
            }
            base.OnMouseDown(args);
        }
        public override void OnMouseUp(DiagramMouseEventArgs? args)
        {
            if (deleteObject != null)
            {
                sfDiagram.StartGroupAction();
                sfDiagram.BeginUpdate();
                sfDiagram.Nodes!.Remove(deleteObject);
                _ = sfDiagram.EndUpdateAsync();
                sfDiagram.EndGroupAction();
            }
            base.OnMouseUp(args);
            this.InAction = true;
        }
    }

    public class DrawTool : ConnectorDrawingController
    {
        SfDiagramComponent sfDiagram;
        Connector? newConnector = null;
        public DrawTool(SfDiagramComponent Diagram) : base(Diagram, DiagramElementAction.ConnectorSourceEnd)
        {
            sfDiagram = Diagram;
            newConnector = new Connector()
            {
                ID = "OrthogonalConnector",
                SourceID = sfDiagram.SelectionSettings!.Nodes![0].ID,
                Type = ConnectorSegmentType.Orthogonal,
            };
            @*Hidden:Lines*@
#pragma warning disable BL0005
            @*End:Hidden*@
            Diagram.InteractionController = DiagramInteractions.DrawOnce;
            Diagram.DrawingObject = newConnector;
            @*Hidden:Lines*@
#pragma warning restore BL0005
            @*End:Hidden*@
        }
        public override void OnMouseDown(DiagramMouseEventArgs args)
        {
            base.OnMouseDown(args);
        }
        public override void OnMouseUp(DiagramMouseEventArgs? args)
        {
            base.OnMouseUp(args);
        }
    }

    protected override void OnInitialized()
    {
        GridLineIntervals = new double[] {
            1, 9, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75, 0.25, 9.75
    };
        InitDiagramModel();
        InitPaletteModel();        
    }
    // Create Nodes and Connectors for the diagram.
    public void InitDiagramModel()
    {
        // Reset collections
        DiagramNodes = new DiagramObjectCollection<Node>();
        DiagramConnectors = new DiagramObjectCollection<Connector>();

        // Helper orthogonal segments for first turn direction
        OrthogonalSegment goDown75 = new OrthogonalSegment
        {
            Type = ConnectorSegmentType.Orthogonal,
            Length = 75,
            Direction = Direction.Bottom
        };
        OrthogonalSegment goDown100 = new OrthogonalSegment
        {
            Type = ConnectorSegmentType.Orthogonal,
            Length = 100,
            Direction = Direction.Bottom
        };
        OrthogonalSegment goRight150 = new OrthogonalSegment
        {
            Type = ConnectorSegmentType.Orthogonal,
            Length = 150,
            Direction = Direction.Right
        };
        OrthogonalSegment goRight120 = new OrthogonalSegment
        {
            Type = ConnectorSegmentType.Orthogonal,
            Length = 120,
            Direction = Direction.Right
        };
        OrthogonalSegment goLeft140 = new OrthogonalSegment
        {
            Type = ConnectorSegmentType.Orthogonal,
            Length = 140,
            Direction = Direction.Left
        };

        // Layout positions
        double centerX = 400;   // center column
        double leftX = 220;   // left column
        double rightX = 600;   // right column

        // Vertical offset to move the diagram down to make room for the title
        double offsetY = 70;

        // Y coordinates (top to bottom) + offset
        double startY = 50 + offsetY;   // Start
        double commitY = 130 + offsetY;   // Commit
        double decisionY1 = 220 + offsetY;  // Decision 1
        double testReportY = 300 + offsetY;  // Test Report
        double rateY = 320 + offsetY;// Rate-limit
        double decisionY2 = 410 + offsetY;  // Decision 2
        double deployY = 490 + offsetY; // Deploy center
        double endY = 570 + offsetY;   // End

        Node Title = new Node()
        {
            ID = "TitleNode",
            OffsetX = centerX,
            OffsetY = 30,
            Shape = new TextShape()
            {
                Content = "CI / CD Pipeline"
            },
            Style = new TextStyle()
            {
                FontSize = 20,
                Bold = true,
            },
            Constraints = NodeConstraints.Default & ~NodeConstraints.Select,
        };
        DiagramNodes.Add(Title);

        // Nodes
         CreateNode("start", centerX, startY, NodeFlowShapes.Terminator, "Start");
        CreateNode("commit", centerX, commitY, NodeFlowShapes.Process, "Commit (VCS)");
        CreateNode("gate1", centerX, decisionY1, NodeFlowShapes.Decision, "Tests pass?");
        CreateNode("build", rightX, decisionY1, NodeFlowShapes.Process, "Build");
        CreateNode("report", leftX, testReportY, NodeFlowShapes.Document, "Test Report");
        CreateNode("rate", centerX, rateY, NodeFlowShapes.Process, "Rate-limit");
        CreateNode("gate2", centerX, decisionY2, NodeFlowShapes.Decision, "Tests pass?");
        CreateNode("deployR", rightX, decisionY2, NodeFlowShapes.Process, "Deploy");
        CreateNode("deploy", centerX, deployY, NodeFlowShapes.Process, "Deploy");
        CreateNode("end", centerX, endY, NodeFlowShapes.Terminator, "End");

        // Connectors (orthogonal)
        CreateConnector("start", "commit", default(string)!, goDown75);
        CreateConnector("commit", "gate1", default(string)!, goDown75);

        // gate1 branches
        CreateConnector("gate1", "build", "No", goRight120);
        CreateConnector("gate1", "report", "Yes", goLeft140);

        // report  gate2 (loop)
        CreateConnector("report", "gate2", default(string)!, goDown100);

        // center flow: gate1  rate-limit  gate2
        CreateConnector("gate1", "rate", default(string)!, goDown75);
        CreateConnector("rate", "gate2", default(string)!, goDown75);

        // gate2 branches
        CreateConnector("gate2", "deployR", "No", goRight150);
        CreateConnector("gate2", "deploy", "Yes", goDown75);

        // Deploy center  End
        CreateConnector("deploy", "end", default(string)!, goDown75); 
    }

    // Create Nodes and Connectors for the Palette.
    public void InitPaletteModel()
    {
        DiagramPalettes = new DiagramObjectCollection<Palette>();
        SymbolPreview = new DiagramSize
        {
            Width = 100,
            Height = 100
        };
        PalettesFlowShapes = new DiagramObjectCollection<NodeBase>();
        CreatePaletteNode(NodeFlowShapes.Terminator, "Terminator");
        CreatePaletteNode(NodeFlowShapes.Process, "Process");
        CreatePaletteNode(NodeFlowShapes.Decision, "Decision");
        CreatePaletteNode(NodeFlowShapes.Document, "Document");
        CreatePaletteNode(NodeFlowShapes.PreDefinedProcess, "Pre-Defined Process");
        CreatePaletteNode(NodeFlowShapes.PaperTap, "Punched Tape");
        CreatePaletteNode(NodeFlowShapes.DirectData, "Direct Data");
        CreatePaletteNode(NodeFlowShapes.SequentialData, "Sequential Data");
        CreatePaletteNode(NodeFlowShapes.Sort, "Sort");
        CreatePaletteNode(NodeFlowShapes.MultiDocument, "Multi-Document");
        CreatePaletteNode(NodeFlowShapes.Collate, "Collate");
        CreatePaletteNode(NodeFlowShapes.SummingJunction, "Summing Junction");
        CreatePaletteNode(NodeFlowShapes.Or, "OR");
        CreatePaletteNode(NodeFlowShapes.InternalStorage, "Internal Storage");
        CreatePaletteNode(NodeFlowShapes.Extract, "Extract");
        CreatePaletteNode(NodeFlowShapes.SequentialAccessStorage, "Sequential Access Storage");
        CreatePaletteNode(NodeFlowShapes.Annotation, "Annotation");
        CreatePaletteNode(NodeFlowShapes.Data, "Data");
        CreatePaletteNode(NodeFlowShapes.Card, "Card");
        CreatePaletteNode(NodeFlowShapes.Delay, "Delay");

        PalettesConnectorSymbols = new DiagramObjectCollection<NodeBase>();
        CreatePaletteConnector("Orthogonal With Arrow", ConnectorSegmentType.Orthogonal, DecoratorShape.Arrow);
        CreatePaletteConnector("Orthogonal", ConnectorSegmentType.Orthogonal, DecoratorShape.None);
        CreatePaletteConnector("Straight With Arrow", ConnectorSegmentType.Straight, DecoratorShape.Arrow);
        CreatePaletteConnector("Straight", ConnectorSegmentType.Straight, DecoratorShape.None);
        CreatePaletteConnector("Bezier", ConnectorSegmentType.Bezier, DecoratorShape.None);

        DiagramPalettes = new DiagramObjectCollection<Palette>()
        {
@*Hidden:Lines*@
            #pragma warning disable BL0005
@*End:Hidden*@
            new Palette() {Symbols = PalettesFlowShapes, Title = "Flow Shapes", ID = "FlowShapes", IconCss = "e-ddb-icons e-flow"},
            new Palette() {Symbols = PalettesConnectorSymbols, Title = "Connectors",ID="Connectors", IsExpanded = true, IconCss = "e-ddb-icons e-connector"},
@*Hidden:Lines*@
            #pragma warning restore BL0005
@*End:Hidden*@
    };
    }
    public void OnNodeCreating(IDiagramObject obj)
    {
        Node? node = obj as Node;
        if (!(node!.ID!.StartsWith("TitleNode")))
            node!.Style!.Fill = "#357BD2";
        if (!(node.ID!.StartsWith("Annotation") || node.ID.StartsWith("SequentialData")))
            node!.Style!.StrokeColor = "White";
        node!.Style!.Opacity = 1;
    }
    public void OnConnectorCreating(IDiagramObject obj)
    {
        Connector? connector = obj as Connector;
        connector!.Style!.Fill = "black";
        connector.Style.StrokeColor = "black";
        connector.Style.Opacity = 1;
        connector.TargetDecorator!.Style.Fill = "black";
        connector.TargetDecorator.Style.StrokeColor = "black";
    }
    // Method is used to create a node for the palette.
    public void CreatePaletteNode(NodeFlowShapes flowShape, string id)
    {
        string NodeID = id;
        bool isSpace = id.Contains(" ");
        if (isSpace)
        {
            NodeID = id.Replace(" ", "");
        }
        Node diagramNode = new Node()
        {
            ID = NodeID,
            Shape = new FlowShape() { Type = Syncfusion.Blazor.Diagram.NodeShapes.Flow, Shape = flowShape },
            Style = new ShapeStyle() { StrokeColor = "#757575", StrokeWidth = 1 },
            SearchTags = new List<string>() { "flow" },
        };
        if (isSpace)
        {
            diagramNode.Tooltip = new DiagramTooltip()
            {
                Content = id,
            };
            diagramNode.Constraints = NodeConstraints.Default | NodeConstraints.Tooltip;
        }
        if (id == "Terminator" || id == "Process")
        {
            diagramNode.Width = 80;
            diagramNode.Height = 40;
        }
        else if (id == "Decision" || id == "Document" || id == "PreDefined Process" ||
          id == "Punched Tape" || id == "Direct Data" || id == "MultiDocument" || id == "Data")
        {
            diagramNode.Width = 50;
            diagramNode.Height = 40;
        }
        else
        {
            diagramNode.Width = 50;
            diagramNode.Height = 50;
        }
        double oldWidth = Convert.ToDouble(diagramNode.Width);
        double oldHeight = Convert.ToDouble(diagramNode.Height);
        double ratio = 100 / oldWidth;
        diagramNode.Width = 100;
        diagramNode.Height *= ratio;
        PalettesFlowShapes!.Add(diagramNode);
    }

    // used to create a Port.
    public DiagramObjectCollection<PointPort> CreatePort()
    {
        DiagramObjectCollection<PointPort> defaultsPorts = new DiagramObjectCollection<PointPort>();
        PointPort port1 = new PointPort()
        {
            ID = "port1",
            Shape = PortShapes.Circle,
            Offset = new DiagramPoint() { X = 0, Y = 0.5 }
        };
        PointPort port2 = new PointPort()
        {
            ID = "port2",
            Shape = PortShapes.Circle,
            Offset = new DiagramPoint() { X = 0.5, Y = 0 }
        };
        PointPort port3 = new PointPort()
        {
            ID = "port3",
            Shape = PortShapes.Circle,
            Offset = new DiagramPoint() { X = 1, Y = 0.5 }
        };
        PointPort port4 = new PointPort()
        {
            ID = "port4",
            Shape = PortShapes.Circle,
            Offset = new DiagramPoint() { X = 0.5, Y = 1 }
        };
        defaultsPorts.Add(port1);
        defaultsPorts.Add(port2);
        defaultsPorts.Add(port3);
        defaultsPorts.Add(port4);
        return defaultsPorts;
    }
    // Method is used to create a Connector for the diagram.
    public void CreateConnector(string sourceId, string targetId, string label = default(string)!, OrthogonalSegment? segment = null)
    {
        Connector diagramConnector = new Connector()
        {
            ID = string.Format("connector{0}", ++ConnectorCount),
            SourceID = sourceId,
            TargetID = targetId,
            Style = new ShapeStyle() { StrokeWidth = 2, StrokeColor = "#8D8D8D" },
            TargetDecorator = new DecoratorSettings()
            {
                Style = new ShapeStyle() { StrokeColor = "#8D8D8D", Fill = "#8D8D8D" }
            }
        };

        if (label != default(string))
        {
            PathAnnotation annotation = new PathAnnotation()
            {
                Content = label,
                Style = new TextStyle()
                {
                    Fill = "white"
                }
            };
            diagramConnector.Annotations = new DiagramObjectCollection<PathAnnotation>() { annotation };
        }

        if (segment != null)
        {
            diagramConnector.Type = ConnectorSegmentType.Orthogonal;
            diagramConnector.Segments = new DiagramObjectCollection<ConnectorSegment>() { segment };
        }
        DiagramConnectors!.Add(diagramConnector);
    }
    // Method is used to create a node for the diagram.
    public void CreateNode(string id, double x, double y, NodeFlowShapes shape, string label)
    {
        Node diagramNode = new Node()
        {
            ID = id,
            OffsetX = x,
            OffsetY = y,
            Width = 145,
            Ports = CreatePort(),
            Height = 60,
            Style = new ShapeStyle { Fill = "#357BD2", StrokeColor = "White" },

            Shape = new FlowShape() { Type = Syncfusion.Blazor.Diagram.NodeShapes.Flow, Shape = shape },
            Annotations = new DiagramObjectCollection<ShapeAnnotation>
        {
            new ShapeAnnotation
            {
                ID = "label",
                Content = label,
                Style = new TextStyle()
                {
                    Color="White", Fill = "transparent"
                }
            }
        }
        };
        DiagramNodes!.Add(diagramNode);
    }
    // Method is used to create a Connector for the palette.
    public void CreatePaletteConnector(string id, ConnectorSegmentType type, DecoratorShape decoratorShape)
    {
        string connectorID = id;
        bool isSpace = id.Contains(" ");
        if (isSpace)
        {
            connectorID = id.Replace(" ", "");
        }
        Connector diagramConnector = new Connector()
        {
            ID = connectorID,
            Type = type,
            SourcePoint = new DiagramPoint() { X = 0, Y = 0 },
            TargetPoint = new DiagramPoint() { X = 60, Y = 60 },
            Style = new ShapeStyle() { StrokeWidth = 1, StrokeColor = "#757575" },
            SearchTags = new List<string>() { "connector" },
            TargetDecorator = new DecoratorSettings()
            {
                Shape = decoratorShape,
                Style = new ShapeStyle() { StrokeWidth = 1, StrokeColor = "#757575", Fill = "#757575" }
            }
        };
        if (isSpace)
        {
            diagramConnector.Tooltip = new DiagramTooltip()
            {
                Content = id,
            };
            diagramConnector.Constraints = ConnectorConstraints.Default | ConnectorConstraints.Tooltip;
        }
        PalettesConnectorSymbols!.Add(diagramConnector);
    }

    public async Task ShowHideSymbolPalette()
    {
        await jsRuntime!.InvokeAsync<object>("openPalette");

    }
    public async Task ToolbarEditorClick(Syncfusion.Blazor.Navigations.ClickEventArgs args)
    {
        string value = args.Item.TooltipText;
        switch (value)
        {
            case "New Diagram":
                DiagramInstance!.Clear();
                SetElements();
                break;
            case "Open Diagram":
                _ = LoadDiagram();
                break;
            case "Save Diagram":
                string fileName = "Flow Chart";
                await Download(fileName);
                break;
            case "Print Diagram":
                DiagramPrintSettings print = new DiagramPrintSettings();
                print.PageWidth = 700;
                print.PageHeight = 1200;
                await DiagramInstance!.PrintAsync(print);
                break;
            case "Cut":
                DiagramInstance!.Cut();
                IsEnablePasteButton = false;
                break;
            case "Copy":
                DiagramInstance!.Copy();
                IsEnablePasteButton = false;
                break;
            case "Paste":
                DiagramInstance!.Paste();
                break;
            case "Undo":
                DiagramInstance!.Undo();
                this.UpdateToolbarItems();
                break;
            case "Redo":
                DiagramInstance!.Redo();
                break;
            case "Text Tool":
                DiagramDrawingObject = new Node() { Shape = new TextShape() { Type = NodeShapes.Text } };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
        }
    }
    public void SelectedItem(Syncfusion.Blazor.SplitButtons.MenuEventArgs args)
    {
        string value = args.Item.Text;
        switch (value)
        {
            case "Group":
                if (DiagramInstance!.SelectionSettings!.Nodes!.Count + DiagramInstance.SelectionSettings.Connectors!.Count > 1)
                {
                    DiagramInstance.Group();
                }
                break;
            case "Ungroup":
                if (DiagramInstance!.SelectionSettings!.Nodes!.Count + DiagramInstance.SelectionSettings.Connectors!.Count > 0)
                {
                    DiagramInstance.Ungroup();
                }
                IsSingleNode = true;
                IsMultipleNode = true;
                break;
            case "JPG":
            case "PNG":
            case "SVG":
                _ = Export(value);
                break;
            case "Straight":
                DiagramDrawingObject = new Connector() { Type = ConnectorSegmentType.Straight };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
            case "Orthogonal":
                DiagramDrawingObject = new Connector() { Type = ConnectorSegmentType.Orthogonal };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
            case "Bezier":
                DiagramDrawingObject = new Connector() { Type = ConnectorSegmentType.Bezier };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
            case "Rectangle":
                DiagramDrawingObject = new Node() { Shape = new BasicShape() { Type = NodeShapes.Basic, Shape = NodeBasicShapes.Rectangle } };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
            case "Ellipse":
                DiagramDrawingObject = new Node() { Shape = new BasicShape() { Type = NodeShapes.Basic, Shape = NodeBasicShapes.Ellipse } };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
            case "Polygon":
                DiagramDrawingObject = new Node() { Shape = new BasicShape() { Type = NodeShapes.Basic, Shape = NodeBasicShapes.Polygon } };
                DiagramTool = DiagramInteractions.DrawOnce;
                break;
        }
    }
    public void SelectedZoomItem(Syncfusion.Blazor.SplitButtons.MenuEventArgs args)
    {
        string value = args.Item.Text;
        double currentZoom = DiagramInstance!.ScrollSettings!.CurrentZoom;
        switch (value)
        {
            case "Zoom In":
            case "Zoom Out":
                double ZoomFactor = 0.2;
                ZoomFactor = value == "Zoom Out" ? 1 / (1 + ZoomFactor) : (1 + ZoomFactor);
                DiagramInstance.Zoom(ZoomFactor, null);
                break;
            case "Zoom to Fit":
                FitOptions fitoption = new FitOptions()
                {
                    Mode = FitMode.Both,
                    Region = DiagramRegion.PageSettings,
                };
                DiagramInstance.FitToPage(fitoption);
                break;
            case "Zoom to 50%":
                ZoomFactor = 0.5 / currentZoom;
                DiagramInstance.Zoom(ZoomFactor, null);
                break;
            case "Zoom to 100%":
                ZoomFactor = 1 / currentZoom;
                DiagramInstance.Zoom(ZoomFactor, null);
                break;
            case "Zoom to 200%":
                ZoomFactor = 2 / currentZoom;
                DiagramInstance.Zoom(ZoomFactor, null);
                break;
        }
        ZoomItemDropdownContent = FormattableString.Invariant($"{Math.Round(DiagramInstance.ScrollSettings.CurrentZoom * 100)}") + "%";
    }
    public void SetElements()
    {
        IsSingleNode = true;
        IsMultipleNode = true;
        DiagramInstance!.ClearHistory();
        DiagramInstance.ResetZoom();
        StateHasChanged();
    }
    public async Task Download(string fileName)
    {
        string data = DiagramInstance!.SaveDiagram();
        await FileUtil.SaveAs(jsRuntime!, data, fileName);
    }
    public async Task Export(string? value)
    {
        DiagramExportSettings export = new DiagramExportSettings();
        export.FitToPage = true;
        if (value == "JPG")
            await DiagramInstance!.ExportAsync("Diagram", DiagramExportFormat.JPEG, export);
        else if (value == "PNG")
            await DiagramInstance!.ExportAsync("DiagramInstance", DiagramExportFormat.PNG, export);
        else if (value == "SVG")
            await DiagramInstance!.ExportAsync("Diagram", DiagramExportFormat.SVG, export);
    }
    public async Task LoadDiagram()
    {
        DiagramInstance!.BeginUpdate();
        ExtensionType = ".json";
        await FileUtil.Click(jsRuntime!);
        await DiagramInstance.EndUpdateAsync();
    }
    public async Task OnUploadFileSelected(UploadingEventArgs args)
    {
        if (args.FileData!.Type == "json")
        {
            string json = await FileUtil.LoadFile(jsRuntime!, args.FileData);
            json = json.Replace(System.Environment.NewLine, string.Empty);
            isLoadDiagram = true;
            await DiagramInstance!.LoadDiagramAsync(json.ToString());
            if (connection.State != HubConnectionState.Disconnected)
                await connection.SendAsync("LoadDiagram", json.ToString());
            FitOptions options = new FitOptions() { Mode = FitMode.Both, Region = DiagramRegion.Content };
            DiagramInstance.FitToPage(options);
            isLoadDiagram = false;
            await UploadFiles!.ClearAllAsync();
        }
    }

    public void ScrollChanged(ScrollChangedEventArgs args)
    {
        ZoomItemDropdownContent = FormattableString.Invariant($"{Math.Round(DiagramInstance!.ScrollSettings!.CurrentZoom * 100)}") + "%";
    }

    @*Hidden:Lines*@
    public async void Dispose()
    {
        if (connection != null)
        {
            await connection.StopAsync();
        }
        if (SymbolPreview != null)
        {
            SymbolPreview = null;
        }
        if (SymbolMargin != null)
        {
            SymbolMargin = null;
        }
        DiagramInstance = null;
        PaletteInstance = null;
        if (DiagramNodes != null)
        {
            DiagramNodes.Clear();
            DiagramNodes = null;
        }
        if (DiagramConnectors != null)
        {
            DiagramConnectors.Clear();
            DiagramConnectors = null;
        }
#pragma warning disable BL0005
        if (DiagramPalettes != null)
        {
            for (int i = 0; i < DiagramPalettes.Count; i++)
            {
                DiagramPalettes[i].ID = null;
                DiagramPalettes[i].Title = null;
                DiagramPalettes[i].IconCss = null;
                if (DiagramPalettes[i].Symbols != null)
                {
                    for (int j = 0; j < DiagramPalettes[i].Symbols.Count; j++)
                    {
                        DiagramPalettes[i].Symbols[j] = null;
                    }
                    DiagramPalettes[i].Symbols.Clear();
                    DiagramPalettes[i].Symbols = null;
                }
            }
            DiagramPalettes.Clear();
            DiagramPalettes = null;
        }
#pragma warning restore BL0005
        if (PalettesFlowShapes != null)
        {
            PalettesFlowShapes.Clear();
            PalettesFlowShapes = null;
        }
        if (GridLineIntervals != null)
        {
            Array.Clear(GridLineIntervals, 0, GridLineIntervals.Length);
            GridLineIntervals = null;
        }
        if (PalettesConnectorSymbols != null)
        {
            PalettesConnectorSymbols.Clear();
            PalettesConnectorSymbols = null;
        }
    }
    @*End:Hidden*@
}